<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Interactive Arithmetic Textbook</title>

<!-- jsPDF for certificate generation -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background: #f0f8ff;
    color: #222;
  }

  header {
    background: linear-gradient(to right, #0078d7, #00b4d8);
    color: white;
    text-align: center;
    padding: 15px;
    font-size: 2.5em;
    font-weight: 600;
  }

  main {
    padding: 20px;
    max-width: 900px;
    margin: auto;
  }

  .chapter {
    background: white;
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 25px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }

  button {
    background: #0078d7;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
    margin-top: 10px;
  }
  button:hover { background: #005fa3; }

  input {
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #ccc;
    width: 80%;
    margin-top: 5px;
  }

  .example-box {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 10px 0;
    flex-wrap: wrap;
  }

  .number-box {
    background.number-box {
    background: #ffeb3b;
    padding: 15px;
    border-radius: 10px;
    font-size: 1.5em;
    width: 70px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: transform 0.3s;
  }

  .number-box:active {
    transform: scale(1.1);
  }

  .drop-zone {
    border: 2px dashed #888;
    padding: 15px;
    text-align: center;
    border-radius: 8px;
    min-height: 50px;
    margin-top: 10px;
  }

  .practice, .challenge {
    margin-top: 20px;
    padding: 15px;
    border-radius: 10px;
    background: #e0f7fa;
  }

  .timer {
    font-weight: bold;
    font-size: 1.1em;
    color: #d32f2f;
  }

  .progress {
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    margin-top: 10px;
  }

  .progress-bar {
    height: 20px;
    width: 0%;
    background: #4caf50;
    text-align: center;
    color: white;
    font-size: 0.8em;
  }

  @media (max-width: 600px) {
    body { font-size: 1em; }
    header { font-size: 1.2em; }
  }
</style>
</head>

<body>
<header>üßÆ Interactive Arithmetic Textbook</header>
<h1><center>Splendoe Team,VBB 2025-26</center></h1>
  <h2><center>AGMHSS Patteeswaram </center></h2>
<main>
  <!-- Intro -->
  <section id="intro" class="chapter">
    <h2>Welcome!</h2>
    <p>This interactive textbook helps you master arithmetic through fun examples and exercises.</p>
    <p><strong>Enter your name to begin:</strong></p>
    <input type="text" id="studentName" placeholder="Enter your full name" />
    <br><br>
    <button onclick="startLesson('addition')">Start Chapter 1: Addition ‚ûï</button>
  </section>

  <!-- Lesson -->
  <section id="lesson" class="chapter" style="display:none;">
    <h2 id="lesson-title">Chapter 1: Addition</h2>
    <p>
      Addition means joining two or more numbers to find the total.  
      For example, <strong>3 + 2 = 5</strong> means you had 3 objects and got 2 more.
    </p>

    <!-- Animated Example -->
    <h3>üîπ Visual Example</h3>
    <div class="example-box">
      <div class="number-box" id="apple1">üçéüçéüçé</div>
      <div class="number-box">+</div>
      <div class="number-box" id="apple2">üçéüçé</div>
      <div class="number-box">=</div>
      <div class="number-box" id="apple3">üçéüçéüçéüçéüçé</div>
    </div>
    <p>3 apples + 2 apples = 5 apples</p>

    <!-- Drag and Drop -->
    <h3>üîπ Try it yourself!</h3>
    <p>Drag both numbers into the box to see their sum:</p>
    <div class="example-box">
      <div class="number-box" draggable="true" ondragstart="drag(event)" id="num1">4</div>
      <div class="number-box" draggable="true" ondragstart="drag(event)" id="num2">7</div>
    </div>
    <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)">
      Drop numbers here üëá
    </div>
    <p id="sumResult"></p>

    <!-- Quick Practice -->
    <div class="practice">
      <h3>üß© Quick Practice</h3>
      <p id="practiceQ"></p>
      <input type="number" id="practiceA" placeholder="Type your answer" />
      <button onclick="checkPractice()">Check</button>
      <p id="practiceFeedback"></p>
      <button onclick="newPractice()">Next Question</button>
    </div>

    <!-- Challenge Game -->
    <div class="challenge">
      <h3>‚ö° 30-Second Challenge!</h3>
      <p>Answer as many as you can before time runs out!</p>
      <p id="challengeQ">Press Start to begin.</p>
      <input type="number" id="challengeA" placeholder="Your answer" />
      <button onclick="checkChallenge()">Submit</button>
      <p id="challengeFeedback"></p>
      <p class="timer" id="timer">Time: 30s</p>
      <button onclick="startChallenge()">Start Challenge</button>
    </div>

    <button onclick="startQuiz()">Start Final Quiz ‚û°Ô∏è</button>
  </section>

  <!-- Quiz -->
  <section id="quiz" class="chapter" style="display:none;">
    <h2>Quiz: Test Your Skills</h2>
    <div id="quiz-container"></div>
    <div class="progress">
      <div class="progress-bar" id="progress-bar">0%</div>
    </div>
  </section>
</main>

<script>
let score = 0;
let questionCount = 0;
let studentName = "";

// ----- LESSON START -----
function startLesson(type) {
  studentName = document.getElementById("studentName").value.trim();
  if (!studentName) {
    alert("Please enter your name before starting.");
    return;
  }
  document.getElementById("intro").style.display = "none";
  document.getElementById("lesson").style.display = "block";
  newPractice();
}

// ----- DRAG & DROP -----
function allowDrop(ev) { ev.preventDefault(); }
function drag(ev) { ev.dataTransfer.setData("text", ev.target.id); }

function drop(ev) {
  ev.preventDefault();
  const num1 = parseInt(document.getElementById("num1").innerText);
  const num2 = parseInt(document.getElementById("num2").innerText);
  const sum = num1 + num2;
  document.getElementById("sumResult").innerText = `‚úÖ ${num1} + ${num2} = ${sum}`;
}

// ----- PRACTICE -----
let a, b;
function newPractice() {
  a = Math.floor(Math.random() * 10) + 1;
  b = Math.floor(Math.random() * 10) + 1;
  document.getElementById("practiceQ").innerText = `What is ${a} + ${b}?`;
  document.getElementById("practiceA").value = "";
  document.getElementById("practiceFeedback").innerText = "";
}

function checkPractice() {
  const ans = parseInt(document.getElementById("practiceA").value);
  if (ans === a + b) {
    document.getElementById("practiceFeedback").innerText = "üéâ Correct!";
  } else {
    document.getElementById("practiceFeedback").innerText = `‚ùå Try again. The answer is ${a + b}.`;
  }
}

// ----- CHALLENGE -----
let challengeScore = 0, timer = 30, cA, cB, timerInterval;
function startChallenge() {
  challengeScore = 0;
  timer = 30;
  nextChallenge();
  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    timer--;
    document.getElementById("timer").innerText = `Time: ${timer}s`;
    if (timer <= 0) {
      clearInterval(timerInterval);
      document.getElementById("challengeFeedback").innerText =
        `Time‚Äôs up! You got ${challengeScore} correct.`;
      document.getElementById("challengeQ").innerText = "Challenge Over!";
    }
  }, 1000);
}

function nextChallenge() {
  cA = Math.floor(Math.random() * 20);
  cB = Math.floor(Math.random() * 20);
  document.getElementById("challengeQ").innerText = `What is ${cA} + ${cB}?`;
  document.getElementById("challengeA").value = "";
}

function checkChallenge() {
  const ans = parseInt(document.getElementById("challengeA").value);
  if (timer <= 0) return;
  if (ans === cA + cB) {
    challengeScore++;
    document.getElementById("challengeFeedback").innerText = "‚úÖ Correct!";
  } else {
    document.getElementById("challengeFeedback").innerText = `‚ùå ${cA + cB} was correct.`;
  }
  nextChallenge();
}

// ----- QUIZ -----
function startQuiz() {
  document.getElementById("lesson").style.display = "none";
  document.getElementById("quiz").style.display = "block";
  score = 0;
  questionCount = 0;
  nextQuestion();
}

function nextQuestion() {
  if (questionCount >= 5) { showResult(); return; }
  const a = Math.floor(Math.random() * 20);
  const b = Math.floor(Math.random() * 20);
  const correctAnswer = a + b;
  questionCount++;
  document.getElementById("quiz-container").innerHTML = `
    <div class="question">
      <p><strong>Question ${questionCount}:</strong> What is ${a} + ${b}?</p>
      <input type="number" id="userAnswer" placeholder="Enter answer" />
      <button onclick="checkAnswer(${correctAnswer})">Submit</button>
    </div>`;
}

function checkAnswer(correctAnswer) {
  const userAnswer = parseInt(document.getElementById("userAnswer").value);
  if (userAnswer === correctAnswer) { alert("‚úÖ Correct!"); score++; }
  else { alert("‚ùå Incorrect. The correct answer is " + correctAnswer); }

  const progress = (questionCount / 5) * 100;
  const bar = document.getElementById("progress-bar");
  bar.style.width = progress + "%";
  bar.textContent = Math.round(progress) + "%";
  nextQuestion();
}

function showResult() {
  document.getElementById("quiz-container").innerHTML = `
    <h3>üéâ Great job, ${studentName}!</h3>
    <p>You completed Chapter 1: Addition.</p>
    <p>Your final score: <strong>${score} / 5</strong></p>
    <button onclick="downloadCertificate()">üéì Download Certificate</button>
    <br><br>
    <button onclick="location.reload()">Restart</button>`;
  document.getElementById("progress-bar").style.width = "100%";
  document.getElementById("progress-bar").textContent = "100%";
}

// ----- CERTIFICATE -----
function downloadCertificate() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ orientation: "landscape" });

  // Border
  doc.setDrawColor(0, 128, 255);
  doc.setLineWidth(10);
  doc.rect(10, 10, 270, 190);

  // Background
  doc.setFillColor(240, 248, 255);
  doc.rect(20, 20, 250, 170, "F");

  // Title
  doc.setFont("helvetica", "bold");
  doc.setFontSize(28);
  doc.setTextColor(0, 51, 102);
  doc.text("Certificate of Achievement", 70, 50);

  // Student name
  doc.setFontSize(20);
  doc.setTextColor(0, 0, 0);
  doc.text("Awarded to:", 50, 80);
  doc.setFont("helvetica", "bold");
  doc.setFontSize(24);
  doc.text(studentName, 110, 80);

  // Body
  doc.setFont("helvetica", "normal");
  doc.setFontSize(16);
  doc.text(`for successfully completing`, 100, 100);
  doc.text(`Chapter 1: Addition`, 110, 115);
  doc.text(`with a final score of ${score} out of 5.`, 95, 130);

  // Footer
  doc.setFontSize(12);
  doc.text(`Date: ${new Date().toLocaleDateString()}`, 40, 160);
  doc.text(`Signature: ______________________`, 200, 160);
  doc.setTextColor(0, 128, 255);
  doc.setFontSize(14);
  doc.text("Keep learning and shining! üåü", 110, 180);

  doc.save(`${studentName}_Certificate.pdf`);
}
</script>
</body>
</html>    border-radius: 12px;
    padding: 20px;
    margin-bottom: 25px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }

  button {
    background: #0078d7;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
    margin-top: 10px;
  }

  button:hover { background: #005fa3; }

  input {
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #ccc;
    width: 80%;
    margin-top: 5px;
  }

  .example-box {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 10px 0;
    flex-wrap: wrap;
  }

  .number-box {
    background: #ffeb3b;
    padding: 12px;
    border-radius: 10px;
    font-size: 1.3em;
    width: 70px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: transform 0.3s;
  }

  .number-box.active { transform: scale(1.05); }

  .practice, .challenge {
    margin-top: 20px;
    padding: 15px;
    border-radius: 10px;
    background: #e0f7fa;
  }

  .timer {
    font-weight: bold;
    font-size: 1.1em;
    color: #d32f2f;
    margin-bottom: 10px;
  }

  .progress {
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    margin-top: 10px;
    height: 20px;
  }

  .progress-bar {
    height: 100%;
    width: 0%;
    background: #4caf50;
    text-align: center;
    color: white;
    font-size: 0.8em;
  }

  @media (max-width: 600px) {
    body { font-size: 0.9rem; }
    header { font-size: 1rem; padding: 10px; }
    .chapter { padding: 15px; margin-bottom: 15px; }
    button { padding: 7px 14px; font-size: 0.9em; }
    .number-box { width: 55px; font-size: 1.1em; padding: 10px; }
  }
</style>
</head>

<body>
<header>üìò Interactive Arithmetic Textbook</header>
  <h><center>Splendoe Team, VBB 2025-26</center></h>
  <h><center>AGMHSS Patteeswaram </center></h>
<main>
  <section class="chapter">
    <h2>Welcome!</h2>
    <p>This interactive textbook helps you master arithmetic through fun examples and exercises.</p>
    <label>Enter your name to begin:</label><br>
    <input type="text" id="studentName" placeholder="Enter your full name"><br>
    <button onclick="startChapter()">Start Chapter 1: Addition ‚ûï</button>
  </section>

  <section id="chapter1" class="chapter" style="display:none;">
    <h2>Chapter 1: Understanding Addition</h2>
    <p>Let‚Äôs explore what addition means through examples!</p>

    <div class="example-box">
      <div class="number-box">2 üçé</div>
      <div class="number-box">+ 3 üçé</div>
      <div class="number-box">= ?</div>
    </div>
    <button onclick="showAnswer()">Show Answer</button>
    <p id="addResult" style="font-weight:bold;"></p>

    <div class="practice">
      <h3>Practice Time!</h3>
      <p>What is 5 + 7?</p>
      <input type="number" id="practiceAns" placeholder="Type your answer">
      <button onclick="checkPractice()">Check</button>
      <p id="practiceFeedback"></p>
    </div>

    <div class="challenge">
      <h3>‚è±Ô∏è Quick Challenge!</h3>
      <p>Answer as many sums as you can in <b>20 seconds!</b></p>
      <div class="timer" id="timer">Time: 20</div>
      <p id="sumDisplay"></p>
      <input type="number" id="sumInput" placeholder="Your answer">
      <button id="submitBtn" onclick="submitAnswer()">Submit</button>
      <p>Score: <span id="score">0</span></p>
      <div class="progress"><div class="progress-bar" id="progressBar"></div></div>
    </div>

    <button onclick="generateCertificate()">Download Certificate üèÜ</button>
  </section>
</main>

<script>
let time = 20;
let timer;
let score = 0;
let num1, num2;

function startChapter() {
  const name = document.getElementById('studentName').value.trim();
  if (!name) { alert('Please enter your name.'); return; }
  document.querySelector('.chapter').style.display = 'none';
  document.getElementById('chapter1').style.display = 'block';
  startChallenge();
}

function showAnswer() {
  document.getElementById('addResult').innerText = "2 + 3 = 5 üçé";
}

function checkPractice() {
  const ans = parseInt(document.getElementById('practiceAns').value);
  const fb = document.getElementById('practiceFeedback');
  fb.innerText = (ans === 12) ? "‚úÖ Correct! Great job!" : "‚ùå Try again!";
}

function startChallenge() {
  score = 0;
  time = 20;
  nextSum();
  timer = setInterval(updateTimer, 1000);
}

function updateTimer() {
  document.getElementById('timer').innerText = "Time: " + time;
  time--;
  if (time < 0) {
    clearInterval(timer);
    document.getElementById('submitBtn').disabled = true;
    alert("‚è∞ Time‚Äôs up! Your score: " + score);
  }
}

function nextSum() {
  num1 = Math.floor(Math.random() * 10);
  num2 = Math.floor(Math.random() * 10);
  document.getElementById('sumDisplay').innerText = `${num1} + ${num2} = ?`;
  document.getElementById('sumInput').value = "";
}

function submitAnswer() {
  const ans = parseInt(document.getElementById('sumInput').value);
  if (ans === num1 + num2) {
    score++;
    document.getElementById('score').innerText = score;
    updateProgress();
  }
  nextSum();
}

function updateProgress() {
  const progress = Math.min(score * 10, 100);
  document.getElementById('progressBar').style.width = progress + "%";
}

function generateCertificate() {
  const name = document.getElementById('studentName').value.trim();
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ orientation: "landscape" });

  // Border design
  doc.setLineWidth(2);
  doc.setDrawColor(0, 150, 200);
  doc.rect(10, 10, 277, 190);

  doc.setFontSize(22);
  doc.text("üéì Certificate of Achievement üéì", 70, 40);
  doc.setFontSize(16);
  doc.text(`This is to certify that`, 120, 60);
  doc.setFontSize(20);
  doc.text(name, 120, 75);
  doc.setFontSize(16);
  doc.text(`has successfully completed Chapter 1 - Addition`, 80, 90);
  doc.text(`with a score of ${score}!`, 120, 105);
  doc.text("Splendoe Team VBB 2025‚Äì26, AGMHS PATTEESWARAM", 65, 130);

  doc.save("Certificate.pdf");
}
</script>
</body>
</html>    padding: 1rem;
    max-width: 900px;
    margin: auto;
  }

  .chapter {
    background: var(--card-bg);
    border-radius: 12px;
    padding: clamp(1rem, 4vw, 1.5rem);
    margin-bottom: 1.5rem;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }

  h2, h3 {
    color: var(--primary);
    font-size: clamp(1.2rem, 4vw, 1.6rem);
  }

  p, input, button {
    font-size: clamp(0.9rem, 3vw, 1.1rem);
  }

  button {
    background: var(--primary);
    color: white;
    border: none;
    padding: 0.6rem 1.2rem;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 500;
    margin-top: 0.6rem;
  }

  button:hover { background: #005fa3; }

  input {
    padding: 0.6rem;
    border-radius: 6px;
    border: 1px solid #ccc;
    width: 90%;
    margin-top: 0.4rem;
  }

  .example-box {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 10px 0;
    flex-wrap: wrap;
  }

  .number-box {
    background: #ffeb3b;
    padding: clamp(0.6rem, 3vw, 1rem);
    border-radius: 10px;
    font-size: clamp(1.2rem, 5vw, 1.5rem);
    width: clamp(50px, 20vw, 70px);
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: transform 0.3s;
  }

  .drop-zone {
    border: 2px dashed #888;
    padding: 1rem;
    text-align: center;
    border-radius: 8px;
    min-height: 50px;
    margin-top: 10px;
    background: #f9f9f9;
  }

  .practice, .challenge {
    margin-top: 1.5rem;
    padding: 1rem;
    border-radius: 10px;
    background: #e0f7fa;
  }

  .timer {
    font-weight: bold;
    font-size: clamp(1rem, 3vw, 1.1rem);
    color: #d32f2f;
  }

  .progress {
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    margin-top: 10px;
  }

  .progress-bar {
    height: 20px;
    width: 0%;
    background: #4caf50;
    text-align: center;
    color: white;
    font-size: 0.8em;
  }

  @media (max-width: 500px) {
    .number-box {
      width: 50px;
      font-size: 1.1rem;
    }
    button {
      width: 100%;
    }
  }
</style>
</head>

<body>
<header>üßÆ Interactive Arithmetic Textbook</header>
  <h2><center>Splendoe Team VBB 2025-26</center></h2>
  <h3><center>AGMHSS Patteeswaram </center></h3>
<main>
  <section id="intro" class="chapter">
    <h2>Welcome!</h2>
    <p>This interactive textbook helps you master arithmetic through fun examples and exercises.</p>
    <p><strong>Enter your name to begin:</strong></p>
    <input type="text" id="studentName" placeholder="Enter your full name" />
    <br>
    <button onclick="startLesson('addition')">Start Chapter 1: Addition ‚ûï</button>
  </section>

  <section id="lesson" class="chapter" style="display:none;">
    <h2 id="lesson-title">Chapter 1: Addition</h2>
    <p>
      Addition means joining two or more numbers to find the total.  
      For example, <strong>3 + 2 = 5</strong> means you had 3 objects and got 2 more.
    </p>

    <h3>üîπ Visual Example</h3>
    <div class="example-box">
      <div class="number-box">üçéüçéüçé</div>
      <div class="number-box">+</div>
      <div class="number-box">üçéüçé</div>
      <div class="number-box">=</div>
      <div class="number-box">üçéüçéüçéüçéüçé</div>
    </div>
    <p>3 apples + 2 apples = 5 apples</p>

    <h3>üîπ Try it yourself!</h3>
    <div class="example-box">
      <div class="number-box" draggable="true" ondragstart="drag(event)" id="num1">4</div>
      <div class="number-box" draggable="true" ondragstart="drag(event)" id="num2">7</div>
    </div>
    <div class="drop-zone" ondrop="drop(event)" ondragover="allowDrop(event)">Drop numbers here üëá</div>
    <p id="sumResult"></p>

    <div class="practice">
      <h3>üß© Quick Practice</h3>
      <p id="practiceQ"></p>
      <input type="number" id="practiceA" placeholder="Type your answer" />
      <button onclick="checkPractice()">Check</button>
      <p id="practiceFeedback"></p>
      <button onclick="newPractice()">Next Question</button>
    </div>

    <div class="challenge">
      <h3>‚ö° 30-Second Challenge!</h3>
      <p id="challengeQ">Press Start to begin.</p>
      <input type="number" id="challengeA" placeholder="Your answer" />
      <button onclick="checkChallenge()">Submit</button>
      <p id="challengeFeedback"></p>
      <p class="timer" id="timer">Time: 30s</p>
      <button onclick="startChallenge()">Start Challenge</button>
    </div>

    <button onclick="startQuiz()">Start Final Quiz ‚û°Ô∏è</button>
  </section>

  <section id="quiz" class="chapter" style="display:none;">
    <h2>Quiz: Test Your Skills</h2>
    <div id="quiz-container"></div>
    <div class="progress"><div class="progress-bar" id="progress-bar">0%</div></div>
  </section>
</main>

<script>
let score = 0, questionCount = 0, studentName = "";

function startLesson() {
  studentName = document.getElementById("studentName").value.trim();
  if (!studentName) { alert("Please enter your name!"); return; }
  document.getElementById("intro").style.display = "none";
  document.getElementById("lesson").style.display = "block";
  newPractice();
}

function allowDrop(ev){ ev.preventDefault(); }
function drag(ev){ ev.dataTransfer.setData("text", ev.target.id); }
function drop(ev){
  ev.preventDefault();
  const n1 = parseInt(document.getElementById("num1").innerText);
  const n2 = parseInt(document.getElementById("num2").innerText);
  document.getElementById("sumResult").innerText = `‚úÖ ${n1} + ${n2} = ${n1 + n2}`;
}

let a,b;
function newPractice(){
  a = Math.floor(Math.random()*10)+1;
  b = Math.floor(Math.random()*10)+1;
  document.getElementById("practiceQ").innerText = `What is ${a} + ${b}?`;
  document.getElementById("practiceA").value="";
  document.getElementById("practiceFeedback").innerText="";
}
function checkPractice(){
  const ans = parseInt(document.getElementById("practiceA").value);
  document.getElementById("practiceFeedback").innerText =
    ans===a+b ? "üéâ Correct!" : `‚ùå Try again. (${a+b})`;
}

let cA,cB,challengeScore=0,time=30,timerInt;
function startChallenge(){
  challengeScore=0;time=30;
  nextChallenge();
  clearInterval(timerInt);
  timerInt=setInterval(()=>{
    time--;
    document.getElementById("timer").innerText=`Time: ${time}s`;
    if(time<=0){clearInterval(timerInt);
      document.getElementById("challengeFeedback").innerText=`Time‚Äôs up! Score: ${challengeScore}`;
      document.getElementById("challengeQ").innerText="Challenge Over!";
    }
  },1000);
}
function nextChallenge(){
  cA=Math.floor(Math.random()*20);
  cB=Math.floor(Math.random()*20);
  document.getElementById("challengeQ").innerText=`What is ${cA} + ${cB}?`;
  document.getElementById("challengeA").value="";
}
function checkChallenge(){
  const ans=parseInt(document.getElementById("challengeA").value);
  if(time<=0)return;
  if(ans===cA+cB){challengeScore++;
    document.getElementById("challengeFeedback").innerText="‚úÖ Correct!";
  } else {
    document.getElementById("challengeFeedback").innerText=`‚ùå ${cA+cB} was correct.`;
  }
  nextChallenge();
}

function startQuiz(){
  document.getElementById("lesson").style.display="none";
  document.getElementById("quiz").style.display="block";
  score=0;questionCount=0;
  nextQuestion();
}

function nextQuestion(){
  if(questionCount>=5){showResult();return;}
  const a=Math.floor(Math.random()*20);
  const b=Math.floor(Math.random()*20);
  const correct=a+b;
  questionCount++;
  document.getElementById("quiz-container").innerHTML=`
    <p><strong>Question ${questionCount}:</strong> What is ${a}+${b}?</p>
    <input type="number" id="userAnswer" placeholder="Enter answer" />
    <button onclick="checkAnswer(${correct})">Submit</button>`;
}
function checkAnswer(correct){
  const ans=parseInt(document.getElementById("userAnswer").value);
  if(ans===correct)score++;
  const prog=(questionCount/5)*100;
  document.getElementById("progress-bar").style.width=prog+"%";
  document.getElementById("progress-bar").textContent=Math.round(prog)+"%";
  nextQuestion();
}
function showResult(){
  document.getElementById("quiz-container").innerHTML=`
    <h3>üéâ Great job, ${studentName}!</h3>
    <p>Your final score: <strong>${score}/5</strong></p>
    <button onclick="downloadCertificate()">üéì Download Certificate</button>
    <br><br><button onclick="location.reload()">Restart</button>`;
  document.getElementById("progress-bar").style.width="100%";
  document.getElementById("progress-bar").textContent="100%";
}

function downloadCertificate(){
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ orientation:"landscape" });
  doc.setDrawColor(0,128,255); doc.setLineWidth(8);
  doc.rect(10,10,270,190);
  doc.setFont("helvetica","bold"); doc.setFontSize(28);
  doc.text("Certificate of Achievement",70,50);
  doc.setFontSize(20);
  doc.text(`Awarded to ${studentName}`,70,80);
  doc.setFontSize(16);
  doc.text(`for successfully completing Chapter 1: Addition`,60,100);
  doc.text(`with a final score of ${score} out of 5.`,70,115);
  doc.setFontSize(12);
  doc.text(`Date: ${new Date().toLocaleDateString()}`,40,160);
  doc.text(`Signature: ___________________`,200,160);
  doc.save(`${studentName}_Certificate.pdf`);
}
</script>
</body>
</html>    padding: 20px;
    margin-bottom: 25px;
    box-shadow: 0 4px 10px rgba(0,0,0,0.1);
  }

  button {
    background: #0078d7;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1em;
    margin-top: 10px;
  }
  button:hover { background: #005fa3; }

  input {
    padding: 8px;
    border-radius: 6px;
    border: 1px solid #ccc;
    width: 80%;
    margin-top: 5px;
  }

  .example-box {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin: 10px 0;
   
.number-box {
    background: #ffeb3b;
    padding: 15px;
    border-radius: 10px;
    font-size: 1.5em;
    width: 70px;
    text-align: center;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
    transition: transform 0.3s;
  }

  .number-box:active {
    transform: scale(1.1);
  }

    .practice, .challenge {
    margin-top: 20px;
    padding: 15px;
    border-radius: 10px;
    background: #e0f7fa;
  }

  .timer {
    font-weight: bold;
    font-size: 1.1em;
    color: #d32f2f;
  }

  .progress {
    background: #ddd;
    border-radius: 20px;
    overflow: hidden;
    margin-top: 10px;
  }

  .progress-bar {
    height: 20px;
    width: 0%;
    background: #4caf50;
    text-align: center;
    color: white;
    font-size: 0.8em;
  }

  @media (max-width: 600px) {
    body { font-size: 1em; }
    header { font-size: 1.2em; }
  }
</style>
</head>

<body>
<header>üßÆ Interactive Arithmetic Textbook</header>
<h1> <center> Splendoe Team VBB 2025-26 AGMHSS Patteeswaram<center> <h1>

<main>
  <!-- Intro -->
  <section id="intro" class="chapter">
    <h2>Welcome!</h2>
    <p>This interactive textbook helps you master arithmetic through fun examples and exercises.</p>
    <p><strong>Enter your name to begin:</strong></p>
    <input type="text" id="studentName" placeholder="Enter your full name" />
    <br><br>
    <button onclick="startLesson('addition')">Start Chapter 1: Addition ‚ûï</button>
  </section>

  <!-- Lesson -->
  <section id="lesson" class="chapter" style="display:none;">
    <h2 id="lesson-title">Chapter 1: Addition</h2>
    <p>
      Addition means joining two or more numbers to find the total.  
      For example, <strong>3 + 2 = 5</strong> means you had 3 objects and got 2 more.
    </p>

    <!-- Animated Example -->
    <h3>üîπ Visual Example</h3>
    <div class="example-box">
      <div class="number-box" id="apple1">üçéüçéüçé</div>
      <div class="number-box">+</div>
      <div class="number-box" id="apple2">üçéüçé</div>
      <div class="number-box">=</div>
      <div class="number-box" id="apple3">üçéüçéüçéüçéüçé</div>
    </div>
    <p>3 apples + 2 apples = 5 apples</p>

        <!-- Quick Practice -->
    <div class="practice">
      <h3>üß© Quick Practice</h3>
      <p id="practiceQ"></p>
      <input type="number" id="practiceA" placeholder="Type your answer" />
      <button onclick="checkPractice()">Check</button>
      <p id="practiceFeedback"></p>
      <button onclick="newPractice()">Next Question</button>
    </div>

    <!-- Challenge Game -->
    <div class="challenge">
      <h3>‚ö° 30-Second Challenge!</h3>
      <p>Answer as many as you can before time runs out!</p>
      <p id="challengeQ">Press Start to begin.</p>
      <input type="number" id="challengeA" placeholder="Your answer" />
      <button onclick="checkChallenge()">Submit</button>
      <p id="challengeFeedback"></p>
      <p class="timer" id="timer">Time: 30s</p>
      <button onclick="startChallenge()">Start Challenge</button>
    </div>

    <button onclick="startQuiz()">Start Final Quiz ‚û°Ô∏è</button>
  </section>

  <!-- Quiz -->
  <section id="quiz" class="chapter" style="display:none;">
    <h2>Quiz: Test Your Skills</h2>
    <div id="quiz-container"></div>
    <div class="progress">
      <div class="progress-bar" id="progress-bar">0%</div>
    </div>
  </section>
</main>

<script>
let score = 0;
let questionCount = 0;
let studentName = "";

// ----- LESSON START -----
function startLesson(type) {
  studentName = document.getElementById("studentName").value.trim();
  if (!studentName) {
    alert("Please enter your name before starting.");
    return;
  }
  document.getElementById("intro").style.display = "none";
  document.getElementById("lesson").style.display = "block";
  newPractice();
}

// ----- DRAG & DROP -----
function allowDrop(ev) { ev.preventDefault(); }
function drag(ev) { ev.dataTransfer.setData("text", ev.target.id); }

function drop(ev) {
  ev.preventDefault();
  const num1 = parseInt(document.getElementById("num1").innerText);
  const num2 = parseInt(document.getElementById("num2").innerText);
  const sum = num1 + num2;
  document.getElementById("sumResult").innerText = `‚úÖ ${num1} + ${num2} = ${sum}`;
}

// ----- PRACTICE -----
let a, b;
function newPractice() {
  a = Math.floor(Math.random() * 10) + 1;
  b = Math.floor(Math.random() * 10) + 1;
  document.getElementById("practiceQ").innerText = `What is ${a} + ${b}?`;
  document.getElementById("practiceA").value = "";
  document.getElementById("practiceFeedback").innerText = "";
}

function checkPractice() {
  const ans = parseInt(document.getElementById("practiceA").value);
  if (ans === a + b) {
    document.getElementById("practiceFeedback").innerText = "üéâ Correct!";
  } else {
    document.getElementById("practiceFeedback").innerText = `‚ùå Try again. The answer is ${a + b}.`;
  }
}

// ----- CHALLENGE -----
let challengeScore = 0, timer = 30, cA, cB, timerInterval;
function startChallenge() {
  challengeScore = 0;
  timer = 30;
  nextChallenge();
  clearInterval(timerInterval);
  timerInterval = setInterval(() => {
    timer--;
    document.getElementById("timer").innerText = `Time: ${timer}s`;
    if (timer <= 0) {
      clearInterval(timerInterval);
      document.getElementById("challengeFeedback").innerText =
        `Time‚Äôs up! You got ${challengeScore} correct.`;
      document.getElementById("challengeQ").innerText = "Challenge Over!";
    }
  }, 1000);
}

function nextChallenge() {
  cA = Math.floor(Math.random() * 20);
  cB = Math.floor(Math.random() * 20);
  document.getElementById("challengeQ").innerText = `What is ${cA} + ${cB}?`;
  document.getElementById("challengeA").value = "";
}

function checkChallenge() {
  const ans = parseInt(document.getElementById("challengeA").value);
  if (timer <= 0) return;
  if (ans === cA + cB) {
    challengeScore++;
    document.getElementById("challengeFeedback").innerText = "‚úÖ Correct!";
  } else {
    document.getElementById("challengeFeedback").innerText = `‚ùå ${cA + cB} was correct.`;
  }
  nextChallenge();
}

// ----- QUIZ -----
function startQuiz() {
  document.getElementById("lesson").style.display = "none";
  document.getElementById("quiz").style.display = "block";
  score = 0;
  questionCount = 0;
  nextQuestion();
}

function nextQuestion() {
  if (questionCount >= 5) { showResult(); return; }
  const a = Math.floor(Math.random() * 20);
  const b = Math.floor(Math.random() * 20);
  const correctAnswer = a + b;
  questionCount++;
  document.getElementById("quiz-container").innerHTML = `
    <div class="question">
      <p><strong>Question ${questionCount}:</strong> What is ${a} + ${b}?</p>
      <input type="number" id="userAnswer" placeholder="Enter answer" />
      <button onclick="checkAnswer(${correctAnswer})">Submit</button>
    </div>`;
}

function checkAnswer(correctAnswer) {
  const userAnswer = parseInt(document.getElementById("userAnswer").value);
  if (userAnswer === correctAnswer) { alert("‚úÖ Correct!"); score++; }
  else { alert("‚ùå Incorrect. The correct answer is " + correctAnswer); }

  const progress = (questionCount / 5) * 100;
  const bar = document.getElementById("progress-bar");
  bar.style.width = progress + "%";
  bar.textContent = Math.round(progress) + "%";
  nextQuestion();
}

function showResult() {
  document.getElementById("quiz-container").innerHTML = `
    <h3>üéâ Great job, ${studentName}!</h3>
    <p>You completed Chapter 1: Addition.</p>
    <p>Your final score: <strong>${score} / 5</strong></p>
    <button onclick="downloadCertificate()">üéì Download Certificate</button>
    <br><br>
    <button onclick="location.reload()">Restart</button>`;
  document.getElementById("progress-bar").style.width = "100%";
  document.getElementById("progress-bar").textContent = "100%";
}

// ----- CERTIFICATE -----
function downloadCertificate() {
  const { jsPDF } = window.jspdf;
  const doc = new jsPDF({ orientation: "landscape" });

  // Border
  doc.setDrawColor(0, 128, 255);
  doc.setLineWidth(10);
  doc.rect(10, 10, 270, 190);

  // Background
  doc.setFillColor(240, 248, 255);
  doc.rect(20, 20, 250, 170, "F");

  // Title
  doc.setFont("helvetica", "bold");
  doc.setFontSize(28);
  doc.setTextColor(0, 51, 102);
  doc.text("Certificate of Achievement", 70, 50);

  // Student name
  doc.setFontSize(20);
  doc.setTextColor(0, 0, 0);
  doc.text("Awarded to:", 50, 80);
  doc.setFont("helvetica", "bold");
  doc.setFontSize(24);
  doc.text(studentName, 110, 80);

  // Body
  doc.setFont("helvetica", "normal");
  doc.setFontSize(16);
  doc.text(`for successfully having completed`, 100, 100);
  doc.text(`Chapter 1: Addition`, 110, 115);
  doc.text(`with a final score of ${score} out of 5.`, 95, 130);

  // Footer
  doc.setFontSize(12);
  doc.text(`Date: ${new Date().toLocaleDateString()}`, 40, 160);
  doc.text(`Splendo School of Maths`, 200, 160);
  doc.setTextColor(0, 128, 255);
  doc.setFontSize(14);
  doc.text("Keep learning and shining! üåü", 110, 180);

  doc.save(`${studentName}_Certificate.pdf`);
}
</script>
</body>
</html>



